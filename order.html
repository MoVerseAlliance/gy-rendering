CTYPE HTML>
<html>
	<head>
		    <title>服务订购 - 光影科技工作室</title>
		        <meta charset="utf-8" />
			    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
			        <link rel="stylesheet" href="assets/css/main.css" />
				    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		    <!-- Wrapper -->
		        <div id="wrapper">

				        <!-- Header -->
					        <header id="header">
							            <a href="index.html" class="logo"><strong>光影科技</strong> <span>工作室</span></a>
								                <nav>
											                <a href="#menu">菜单</a>
													            </nav>
														            </header>

															            <!-- Menu (复用您主站的菜单) -->
																            <nav id="menu">
																		                <ul class="links">
																					                <li><a href="index.html">首页</a></li>
																							                <li><a href="landing.html">作品集</a></li>
																									                <li><a href="generic.html">服务项目</a></li>
																											                <li><a href="order.html">服务订购</a></li> <!-- 新增的链接 -->
																													                <li><a href="elements.html">联系我们</a></li>
																															            </ul>
																																            </nav>

																																	            <!-- Main Content -->
																																		            <div id="main" class="alt">

																																				                <!-- Section: 需求表单 -->
																																						            <section id="one">
																																								                    <div class="inner">
																																											                        <header class="major">
																																															                        <h1>服务订购与支付</h1>
																																																		                    </header>
																																																				                        <p>请详细填写您的项目需求，我们将根据您提供的信息在 <strong>4小时内</strong> 为您提供详细报价。确认报价后，您可在此页面完成安全支付。</p>

																																																							                    <form id="projectRequestForm">
																																																										                            <div class="fields">
																																																														                                <div class="field half">
																																																																			                                <label for="name">您的姓名 *</label>
																																																																							                                <input type="text" name="name" id="name" required />
																																																																											                            </div>
																																																																														                                <div class="field half">
																																																																																			                                <label for="email">电子邮箱 *</label>
																																																																																							                                <input type="email" name="email" id="email" required />
																																																																																											                            </div>
																																																																																														                                <div class="field">
																																																																																																			                                <label for="service">所需服务类型 *</label>
																																																																																																							                                <select name="service" id="service" required>
																																																																																																												                                    <option value="">-- 请选择 --</option>
																																																																																																																                                        <option value="product">产品建模</option>
																																																																																																																					                                    <option value="character">角色动画</option>
																																																																																																																									                                        <option value="scene">场景设计</option>
																																																																																																																														                                    <option value="arch">建筑可视化</option>
																																																																																																																																		                                        <option value="vfx">视觉特效</option>
																																																																																																																																							                                    <option value="arvr">AR/VR内容</option>
																																																																																																																																											                                        <option value="other">其他（请在下方说明）</option>
																																																																																																																																																                                </select>
																																																																																																																																																				                            </div>
																																																																																																																																																							                                <div class="field">
																																																																																																																																																												                                <label for="budget">期望预算 (USD)</label>
																																																																																																																																																																                                <select name="budget" id="budget">
																																																																																																																																																																					                                    <option value="">-- 请选择 --</option>
																																																																																																																																																																									                                        <option value="100-500">100 - 500 USD</option>
																																																																																																																																																																														                                    <option value="500-1000">500 - 1,000 USD</option>
																																																																																																																																																																																		                                        <option value="1000-5000">1,000 - 5,000 USD</option>
																																																																																																																																																																																							                                    <option value="5000+">5,000 USD 以上</option>
																																																																																																																																																																																											                                    </select>
																																																																																																																																																																																															                                </div>
																																																																																																																																																																																																			                            <div class="field">
																																																																																																																																																																																																							                                    <label for="message">项目详细描述 *</label>
																																																																																																																																																																																																											                                    <textarea name="message" id="message" rows="6" placeholder="请尽可能详细地描述您的需求，例如：参考图、风格要求、格式、尺寸、交付周期等..." required></textarea>
																																																																																																																																																																																																																	                                </div>
																																																																																																																																																																																																																					                        </div>
																																																																																																																																																																																																																								                        <ul class="actions">
																																																																																																																																																																																																																												                               <li><input type="submit" value="提交需求并等待报价" class="primary" /></li>
																																																																																																																																																																																																																																		                            <li><input type="reset" value="清空内容" /></li>
																																																																																																																																																																																																																																							                             </ul>
																																																																																																																																																																																																																																										                         </form>
																																																																																																																																																																																																																																													                     <p id="formSuccessMessage" style="display:none; color: green; font-weight: bold;">感谢您提交需求！我们已收到您的信息，将在4小时内通过邮件向您发送详细报价单。</p>
																																																																																																																																																																																																																																															                     </div>
																																																																																																																																																																																																																																																	                 </section>

																																																																																																																																																																																																																																																			             <!-- Section: 支付区域 (初始状态隐藏) -->
																																																																																																																																																																																																																																																				                 <section id="paymentSection" style="display: none; background: #f5f5f5; padding: 3em 0;">
																																																																																																																																																																																																																																																							                 <div class="inner">
																																																																																																																																																																																																																																																										                     <header class="major">
																																																																																																																																																																																																																																																													                             <h2>支付报价单</h2>
																																																																																																																																																																																																																																																																                         </header>
																																																																																																																																																																																																																																																																			                     <p>请核对以下报价信息，并通过PayPal完成支付。支付成功后，项目将正式启动。</p>

																																																																																																																																																																																																																																																																					                         <div class="box">
																																																																																																																																																																																																																																																																									                         <h4>报价详情</h4>
																																																																																																																																																																																																																																																																												                         <p><strong>项目ID：</strong> <span id="quoteProjectId">GY-2024-001</span></p>
																																																																																																																																																																																																																																																																															                         <p><strong>服务内容：</strong> <span id="quoteService">产品建模</span></p>
																																																																																																																																																																																																																																																																																		                         <p><strong>报价金额：</strong> <span id="quoteAmount" style="font-size: 1.5em; color: #e44c65;">$0.00</span> USD</p>
																																																																																																																																																																																																																																																																																					                         <p><strong>报价有效期：</strong> 自发出之日起7日内</p>
																																																																																																																																																																																																																																																																																								                     </div>

																																																																																																																																																																																																																																																																																										                         <!-- PayPal按钮容器 -->
																																																																																																																																																																																																																																																																																													                     <div id="paypal-button-container"></div>
																																																																																																																																																																																																																																																																																															                         <p style="font-size: 0.9em; color: #666; margin-top: 1em;"><i class="icon solid alt fa-lock"></i> 支付过程由PayPal安全加密。</p>
																																																																																																																																																																																																																																																																																																		                 </div>
																																																																																																																																																																																																																																																																																																				             </section>

																																																																																																																																																																																																																																																																																																					             </div>

																																																																																																																																																																																																																																																																																																						             <!-- Footer (复用您主站的页脚) -->
																																																																																																																																																																																																																																																																																																							             <footer id="footer">
																																																																																																																																																																																																																																																																																																									                 <div class="inner">
																																																																																																																																																																																																																																																																																																												                 <ul class="copyright">
																																																																																																																																																																																																																																																																																																															                     <li>&copy; 2024 光影科技工作室. 保留所有权利</li>
																																																																																																																																																																																																																																																																																																																	                     </ul>
																																																																																																																																																																																																																																																																																																																			                 </div>
																																																																																																																																																																																																																																																																																																																					         </footer>

																																																																																																																																																																																																																																																																																																																						     </div>

																																																																																																																																																																																																																																																																																																																						         <!-- Scripts -->
																																																																																																																																																																																																																																																																																																																							     <script src="assets/js/jquery.min.js"></script>
																																																																																																																																																																																																																																																																																																																							         <script src="assets/js/jquery.scrolly.min.js"></script>
																																																																																																																																																																																																																																																																																																																								     <script src="assets/js/jquery.scrollex.min.js"></script>
																																																																																																																																																																																																																																																																																																																								         <script src="assets/js/browser.min.js"></script>
																																																																																																																																																																																																																																																																																																																									     <script src="assets/js/breakpoints.min.js"></script>
																																																																																																																																																																																																																																																																																																																									         <script src="assets/js/util.js"></script>
																																																																																																																																																																																																																																																																																																																										     <script src="assets/js/main.js"></script>

																																																																																																																																																																																																																																																																																																																										         <!-- PayPal SDK (请将YOUR_CLIENT_ID_HERE替换成您的真实Client ID) -->
																																																																																																																																																																																																																																																																																																																											     <script src="https://www.paypal.com/sdk/js?client-id=AWAY/XL/MrqQZW6_6P3cH...&currency=USD"></script>

																																																																																																																																																																																																																																																																																																																											         <!-- 自定义脚本 -->
																																																																																																																																																																																																																																																																																																																												     <script>
																																																																																																																																																																																																																																																																																																																													             // 模拟表单提交和报价流程
																																																																																																																																																																																																																																																																																																																													             document.getElementById('projectRequestForm').addEventListener('submit', function(e) {
																																																																																																																																																																																																																																																																																																																															                 e.preventDefault(); // 阻止表单实际提交

																																																																																																																																																																																																																																																																																																																															                 // 显示成功消息
																																																																																																																																																																																																																																																																																																																															                 document.getElementById('formSuccessMessage').style.display = 'block';

																																																																																																																																																																																																																																																																																																																															                 // 这里在实际应用中，应将数据发送到您的服务器或邮箱，然后由您人工报价。
																																																																																																																																																																																																																																																																																																																															                 // 以下是为了演示，模拟您已经发回报价的情景。

																																																																																																																																																																																																																																																																																																																															                 // 模拟3秒后“收到”报价并显示支付区域
																																																																																																																																																																																																																																																																																																																															                 setTimeout(function() {
																																																																																																																																																																																																																																																																																																																																		                 // 显示支付区域
																																																																																																																																																																																																																																																																																																																																		                 document.getElementById('paymentSection').style.display = 'block';

																																																																																																																																																																																																																																																																																																																																		                 // 模拟填充报价信息（实际应由您后端动态生成）
																																																																																																																																																																																																																																																																																																																																		                 document.getElementById('quoteProjectId').textContent = 'GY-' + new Date().getFullYear() + '-' + Math.floor(Math.random() * 1000);
																																																																																																																																																																																																																																																																																																																																		                 document.getElementById('quoteService').textContent = document.getElementById('service').options[document.getElementById('service').selectedIndex].text;
																																																																																																																																																																																																																																																																																																																																		                 // 模拟一个基于预算选择的随机报价（实际应由您确定）
																																																																																																																																																																																																																																																																																																																																		                 const budgetMap = { '100-500': 299, '500-1000': 699, '1000-5000': 2499, '5000+': 5000 };
																																																																																																																																																																																																																																																																																																																																		                 let amount = budgetMap[document.getElementById('budget').value] || 499; // 默认499美元
																																																																																																																																																																																																																																																																																																																																		                 document.getElementById('quoteAmount').textContent = '$' + amount.toFixed(2);
																																																																																																																																																																																																																																																																																																																																		                 window.invoiceAmount = amount.toFixed(2); // 存储金额供PayPal使用

																																																																																																																																																																																																																																																																																																																																		                 // 滚动到支付区域
																																																																																																																																																																																																																																																																																																																																		                 document.getElementById('paymentSection').scrollIntoView({ behavior: 'smooth' });

																																																																																																																																																																																																																																																																																																																																		                 // 初始化或重新渲染PayPal按钮
																																																																																																																																																																																																																																																																																																																																		                 if (window.paypalButtonsInstance) {
																																																																																																																																																																																																																																																																																																																																					                     window.paypalButtonsInstance.close();
																																																																																																																																																																																																																																																																																																																																					                 }
																																																																																																																																																																																																																																																																																																																																		                 renderPayPalButton();

																																																																																																																																																																																																																																																																																																																																		             }, 3000); // 3秒延迟模拟人工报价时间
																																																																																																																																																																																																																																																																																																																															             });

																																																																																																																																																																																																																																																																																																																														             // 渲染PayPal按钮的函数
																																																																																																																																																																																																																																																																																																																														             function renderPayPalButton() {
																																																																																																																																																																																																																																																																																																																																                 window.paypalButtonsInstance = paypal.Buttons({
																																																																																																																																																																																																																																																																																																																																			                 style: {
																																																																																																																																																																																																																																																																																																																																						                     shape: 'rect',
																																																																																																																																																																																																																																																																																																																																						                     color: 'gold',
																																																																																																																																																																																																																																																																																																																																						                     layout: 'vertical',
																																																																																																																																																																																																																																																																																																																																						                     label: 'paypal'
																																																																																																																																																																																																																																																																																																																																						                 },
																																																																																																																																																																																																																																																																																																																																			                 createOrder: function(data, actions) {
																																																																																																																																																																																																																																																																																																																																						                     // 使用页面上显示的金额创建订单
																																																																																																																																																																																																																																																																																																																																						                     return actions.order.create({
																																																																																																																																																																																																																																																																																																																																									                             purchase_units: [{
																																																																																																																																																																																																																																																																																																																																													                                 amount: {
																																																																																																																																																																																																																																																																																																																																																		                                 value: window.invoiceAmount, // 从报价中获取金额
																																																																																																																																																																																																																																																																																																																																																		                                 currency_code: 'USD'
																																																																																																																																																																																																																																																																																																																																																		                             },
																																																																																																																																																																																																																																																																																																																																													                                 description: '项目报价单: ' + document.getElementById('quoteProjectId').textContent
																																																																																																																																																																																																																																																																																																																																													                             }]
																																																																																																																																																																																																																																																																																																																																									                         });
																																																																																																																																																																																																																																																																																																																																						                 },
																																																																																																																																																																																																																																																																																																																																			                 onApprove: function(data, actions) {
																																																																																																																																																																																																																																																																																																																																						                     return actions.order.capture().then(function(details) {
																																																																																																																																																																																																																																																																																																																																									                             // 支付成功！
																																																																																																																																																																																																																																																																																																																																									                             alert('支付成功！感谢您的信任。\n订单ID: ' + details.id + '\n项目已正式启动，我们的项目经理将很快与您联系。');
																																																																																																																																																																																																																																																																																																																																									                             // 在实际应用中，这里应通知您的服务器更新订单状态
																																																																																																																																																																																																																																																																																																																																									                         });
																																																																																																																																																																																																																																																																																																																																						                 },
																																																																																																																																																																																																																																																																																																																																			                 onError: function (err) {
																																																																																																																																																																																																																																																																																																																																						                     console.error('PayPal支付错误:', err);
																																																																																																																																																																																																																																																																																																																																						                     alert('支付过程中出现错误，请重试或直接联系我们。');
																																																																																																																																																																																																																																																																																																																																						                 }
																																																																																																																																																																																																																																																																																																																																			             });
																																																																																																																																																																																																																																																																																																																																                 window.paypalButtonsInstance.render('#paypal-button-container');
																																																																																																																																																																																																																																																																																																																																             }
																																																																																																																																																																																																																																																																																																																														         </script>

	</body>
</html>

